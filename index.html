<div id="form-area">
    <div class="header">
        <h1>Fila Cord Digital</h1>
        <p style="color:#94a3b8">Identifique-se para começar</p>
    </div>
    <input type="text" id="nome" placeholder="Seu Nome Completo">
    <input type="text" id="cpf" placeholder="CPF (000.000.000-00)" maxlength="14">
    
    <select id="curso">
        <option value="">Selecione seu curso</option>
        <option>Psicologia</option><option>Medicina</option><option>Direito</option>
        <option>Administração</option><option>Arquitetura</option><option>Publicidade</option>
        <option>Engenharia</option><option>Contabilidade</option><option>Ciências da computação</option>
        <option>Fisioterapia</option><option>Nutrição</option><option>Outros</option>
    </select>

    <textarea id="motivo" placeholder="Qual o motivo do atendimento?" 
        style="width: 100%; padding: 14px; background: #334155; border: 1px solid #475569; border-radius: 12px; color: white; font-size: 1rem; margin-bottom: 1rem; font-family: inherit; resize: none; box-sizing: border-box;" 
        rows="3"></textarea>

    <button onclick="gerar()">GERAR SENHA</button>
</div>

<script type="module">
    // ... imports existentes ...
    window.gerar = async () => {
        const nome = document.getElementById('nome').value;
        const cpf = document.getElementById('cpf').value;
        const curso = document.getElementById('curso').value;
        const motivo = document.getElementById('motivo').value;

        if(!nome || !cpf || !curso || !motivo) return alert("Por favor, preencha todos os campos!");

        const senha = "A" + Math.floor(100 + Math.random() * 900);
        
        await addDoc(collection(db, "fila"), { 
            nome, 
            cpf, 
            curso, 
            motivo, 
            senha, 
            status: "ESPERA", 
            hora: serverTimestamp() 
        });
        
        document.getElementById('form-area').style.display = 'none';
        document.getElementById('sucesso').style.display = 'block';
        document.getElementById('disp-senha').innerText = senha;
    }
</script>
